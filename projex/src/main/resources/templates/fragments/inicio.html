<main class="ml-64 p-8 bg-gray-100 min-h-screen font-sans" th:fragment="inicio">
  <!-- Header -->
  <div class="mb-10">
    <h1 class="text-3xl font-bold text-gray-800">Bem-vindo de volta, <span th:text="${nome}">Usu√°rio</span> üëã</h1>
    <p class="text-gray-600 mt-2">Aqui est√° um resumo das suas atividades recentes e dos seus projetos.</p>
  </div>
  <!-- Cards: Tarefas Conclu√≠das e Pendentes -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
    <!-- Tarefas Conclu√≠das -->
    <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
      <div class="text-green-600 mb-2">
        <i class="fas fa-check-circle text-2xl"></i>
      </div>
      <p class="text-gray-500 text-sm">Projetos Conclu√≠dos</p>
      <h2 class="text-2xl font-bold text-gray-800">18</h2>
    </div>

    <!-- Tarefas Pendentes -->
    <div class="bg-white p-6 rounded-lg shadow hover:shadow-md transition">
      <div class="text-yellow-500 mb-2">
        <i class="fas fa-tasks text-2xl"></i>
      </div>
      <p class="text-gray-500 text-sm">Projetos Pendentes</p>
      <h2 class="text-2xl font-bold text-gray-800">6</h2>
    </div>
  </div>

  <!-- Projetos Recentes -->
  <div class="mb-10">
    <h2 class="text-xl font-semibold text-gray-700 mb-4">Projetos Recentes</h2>
    <div class="space-y-4" th:if="${temProjetos}">
      <div th:each="projeto : ${ultimosProjetos}">
        <div class="bg-white rounded-lg shadow p-4 hover:bg-gray-50 transition">
          <div class="flex flex-col space-y-1">
            
            <div>
              <p class="!block font-semibold text-gray-800">
                <span th:utext="${projeto.titulo != null ? projeto.titulo: html}">Project</span>
              </p>
              <p class="!block text-sm text-gray-500 ml-10" th:if="${projeto.atualizadoEm != null}">
                <span th:utext="${projeto.atualizadoEm}">Atualizado Em</span>
              </p>
            </div>
            
            <span class="text-sm text-green-600 font-medium" th:if="${projeto.status != null} " th:utext="${projeto.status}"></span>
          </div>
        </div>
      </div>

      
    </div>
    <div th:unless="${temProjetos}" th:utext="${msgProjetos}"></div>

  </div>

  <!-- Atividades Recentes -->
  <div class="mb-10">
    <h2 class="text-xl font-semibold text-gray-700 mb-4">Atividades Recentes</h2>
    <div class="space-y-4">
      <div th:each="atividades : ${ultimasAtividades}">

        <div class="bg-white rounded-lg shadow p-4 hover:bg-gray-50 transition">
          <p class="text-gray-800"th:utext="${#strings.isEmpty(atividades.acaoHistory) ? atividades.acaoHistory : html}"></p>
          <p th:utext="${atividades.userHistory != null and !atividades.userHistory.isEmpty() ? atividades.acaoHistory : html }">
            <strong th:utext="${atividades.userHistory}">Usu√°rio</strong>
            <span th:if="${atividades.entidade != null }">
              adicionou uma nova tarefa em 
              <strong th:utext="${atividades.entidade}"></strong>
            </span>
          </p>
          <p class="text-sm text-gray-500"
          th:if="${atividades.updateHistory != null and !atividades.updateHistory.isEmpty()}"
          th:utext="${atividades.updateHistory}">
        </p>
  
      </div>
    </div>
    <div th:unless="${temAtividades}" th:utext="${msgAtividades}"></div>
    </div>
  </div>
</main>
